<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			*{
				margin:0;
				padding:0;
			}
			li{
				list-style:none;
				padding-left:10px;
				padding-top:2px;
				padding-bottom:2px;
			}
			div{
				width:600px;
				margin:20% auto;
			}
			#text{
				width:500px;
				height:35px;
			}
			button{
				height:40px;
				width:55px;
			}
			ul{
				cursor: default;		/*é¼ æ ‡æŒ‡é’ˆæ ·å¼*/
				display:none;
				width:500px;
				border:1px solid #999;
				border-top:none;
			}
		</style>
	</head>
	<body>
		<div>
			<input type='text' id='text'><button>ğŸ”</button><br />
			<ul></ul>
		</div>
		<script>
			var oText = document.getElementById('text');
			var oUl = document.querySelector('ul');
			oText.onkeyup = function(){
				show()
			}
			oText.onfocus = function(){	//æœç´¢æ¡†çš„å¾—ç„¦äº‹ä»¶
				show()
			}
			document.onclick = function(){	//é¡µé¢ç‚¹å‡»äº‹ä»¶ï¼ˆæœç´¢æ¡†çš„å¤±ç„¦ï¼‰
				oUl.style.display = 'none';
			}
			oText.onclick = function(evt){	//æœç´¢æ¡†çš„ç‚¹å‡»äº‹ä»¶ï¼ˆé¡µé¢äº‹ä»¶åŒ…æ‹¬äº†æœç´¢æ¡†ï¼Œç‚¹å‡»æœç´¢æ¡†è®©ulæ˜¾ç¤ºï¼‰
				var e = evt || window.event;
				e.stopPropagation ? e.stopPropagation() : e.cancelBubble = true; 	//é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼Œé˜²æ­¢è§¦å‘é¡µé¢ç‚¹å‡»äº‹ä»¶
				oUl.style.display = 'block';
			}

			function show(){
				oUl.style.display = 'block';	//é”®ç›˜æŠ¬èµ· ulæ˜¾ç¤º
				oUl.innerHTML = ''; 	//é”®ç›˜æŠ¬èµ·é¦–å…ˆæ¸…ç©ºä¸€ä¸‹ä¸Šä¸€æ¬¡ulé‡Œè·å–çš„å†…å®¹
				var oSc = document.createElement('script');	//ç”Ÿæˆä¸€ä¸ªscriptæ ‡ç­¾ï¼Œåˆ©ç”¨scriptæ ‡ç­¾çš„srcå±æ€§æ¥å®ç°è·¨åŸŸè·å–æ•°æ®
				oSc.src = 'https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd=' + oText.value + '&cb=fn';	//è®¾ç½®è·å–æ•°æ®çš„åœ°å€:æ‰€è¾“å…¥çš„å†…å®¹ï¼›å›è°ƒå‡½æ•°
				document.querySelector('body').appendChild(oSc);
			}
			function fn(data){	//è¿”å›çš„æ•°æ®æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œéœ€è¦çš„æ•°æ®æ˜¯å¯¹è±¡é‡Œçš„å±æ€§ï¼Œå±æ€§å€¼æ˜¯ä¸€ä¸ªæ•°ç»„
//				console.log(data);   = {..,..,s:[]}
				for(var i = 0,length = data.s.length;i < length;i ++){
					var oLi = document.createElement('li');
					oLi.innerHTML = data.s[i];
					oUl.appendChild(oLi);
					// li çš„äº‹ä»¶ï¼›
					oUl.onmouseover = function(evt){
						var e = evt || window.event;
						var target = e.target || e.srcElement;
						if(target.nodeName.toUpperCase() == 'LI'){
							target.style.background = '#e3e1e1';
						}
					}
					oUl.onmouseout = function(evt){
						var e = evt || window.event;
						var target = e.target || e.srcElement;
						target.style.background = '';
					}
					oUl.onclick = function(evt){
						var e = evt || window.event;
						var target = e.target || e.srcElement;
						oText.value = '';
						oText.value = target.innerText;
						oUl.style.display = 'none';
					}
				}
			}
			
			
			
		</script>
	</body>
</html>
